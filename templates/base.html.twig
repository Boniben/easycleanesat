<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>{% block title %}Welcome!{% endblock %}</title>
        <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><text y=%221.2em%22 font-size=%2296%22>⚫️</text><text y=%221.3em%22 x=%220.2em%22 font-size=%2276%22 fill=%22%23fff%22>sf</text></svg>">
        {% block stylesheets %}
            <style>
                @import url('https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700&display=swap');

                :root {
                    --font-sans: 'Manrope', 'Segoe UI', sans-serif;
                    --color-bg: #f4f6f8;
                    --color-surface: #ffffff;
                    --color-surface-soft: #f8fafb;
                    --color-text: #1f2933;
                    --color-text-muted: #5b6570;
                    --color-border: #dbe1e7;
                    --color-primary: #1f5f8b;
                    --color-primary-hover: #184c6f;
                    --color-danger: #b42318;
                    --color-success: #157347;
                    --color-warning: #b35f00;
                    --shadow-sm: 0 1px 2px rgba(16, 24, 40, 0.06);
                    --shadow-md: 0 8px 24px rgba(16, 24, 40, 0.08);
                    --radius-sm: 0.375rem;
                    --radius-md: 0.625rem;
                    --radius-lg: 0.875rem;
                    --transition-fast: 0.2s ease;
                }

                *,
                *::before,
                *::after {
                    box-sizing: border-box;
                }

                html {
                    font-size: 16px;
                    -webkit-text-size-adjust: 100%;
                }

                body {
                    margin: 0;
                    min-height: 100vh;
                    font-family: var(--font-sans);
                    color: var(--color-text);
                    background:
                        radial-gradient(circle at 0% 0%, rgba(31, 95, 139, 0.08), transparent 35%),
                        linear-gradient(180deg, #f8fafc 0%, var(--color-bg) 100%);
                    line-height: 1.6;
                }

                .app-shell {
                    min-height: 100vh;
                    display: flex;
                    flex-direction: column;
                }

                .app-header {
                    position: sticky;
                    top: 0;
                    z-index: 100;
                    border-bottom: 1px solid var(--color-border);
                    background: rgba(255, 255, 255, 0.92);
                    backdrop-filter: blur(6px);
                }

                .app-header__inner {
                    min-height: 72px;
                    display: flex;
                    align-items: center;
                    justify-content: space-between;
                    gap: 1rem;
                }

                .app-brand {
                    margin: 0;
                    font-size: clamp(1rem, 1.2vw + 0.7rem, 1.35rem);
                    font-weight: 700;
                    color: #102231;
                    letter-spacing: -0.01em;
                }

                .app-main {
                    flex: 1;
                    padding-block: 1.5rem 2.5rem;
                }

                .app-footer {
                    border-top: 1px solid var(--color-border);
                    background: rgba(255, 255, 255, 0.85);
                }

                .app-footer__inner {
                    min-height: 60px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    color: var(--color-text-muted);
                    font-size: 0.92rem;
                }

                h1,
                h2,
                h3,
                h4,
                h5,
                h6 {
                    margin: 0 0 0.75rem;
                    color: #111827;
                    line-height: 1.25;
                    letter-spacing: -0.02em;
                }

                h1 { font-size: clamp(1.8rem, 2vw + 1rem, 2.5rem); }
                h2 { font-size: clamp(1.5rem, 1.4vw + 1rem, 2rem); }
                h3 { font-size: 1.35rem; }
                h4 { font-size: 1.15rem; }

                p {
                    margin: 0 0 1rem;
                    color: var(--color-text-muted);
                }

                a {
                    color: var(--color-primary);
                    text-decoration: none;
                    transition: color var(--transition-fast);
                }

                a:hover {
                    color: var(--color-primary-hover);
                }

                img,
                svg,
                video,
                canvas {
                    display: block;
                    max-width: 100%;
                    height: auto;
                }

                hr {
                    border: 0;
                    border-top: 1px solid var(--color-border);
                    margin: 1.5rem 0;
                }

                :focus-visible {
                    outline: 3px solid rgba(31, 95, 139, 0.3);
                    outline-offset: 2px;
                }

                .container {
                    width: min(1100px, 100% - 2rem);
                    margin-inline: auto;
                }

                .stack > * + * {
                    margin-top: 1rem;
                }

                .card {
                    background: var(--color-surface);
                    border: 1px solid var(--color-border);
                    border-radius: var(--radius-lg);
                    box-shadow: var(--shadow-sm);
                    padding: 1.25rem;
                }

                .card--elevated {
                    box-shadow: var(--shadow-md);
                }

                .btn {
                    display: inline-flex;
                    align-items: center;
                    justify-content: center;
                    gap: 0.5rem;
                    border: 1px solid transparent;
                    border-radius: var(--radius-md);
                    padding: 0.625rem 1rem;
                    font: inherit;
                    font-weight: 600;
                    line-height: 1;
                    cursor: pointer;
                    transition:
                        background-color var(--transition-fast),
                        border-color var(--transition-fast),
                        color var(--transition-fast),
                        transform var(--transition-fast);
                }

                .btn:hover {
                    transform: translateY(-1px);
                }

                .btn:active {
                    transform: translateY(0);
                }

                .btn-primary {
                    background: var(--color-primary);
                    border-color: var(--color-primary);
                    color: #fff;
                }

                .btn-primary:hover {
                    background: var(--color-primary-hover);
                    border-color: var(--color-primary-hover);
                    color: #fff;
                }

                .btn-secondary {
                    background: var(--color-surface);
                    border-color: var(--color-border);
                    color: var(--color-text);
                }

                .btn-secondary:hover {
                    background: var(--color-surface-soft);
                }

                .btn-danger {
                    background: var(--color-danger);
                    border-color: var(--color-danger);
                    color: #fff;
                }

                .btn-success {
                    background: var(--color-success);
                    border-color: var(--color-success);
                    color: #fff;
                }

                .btn[disabled],
                button[disabled] {
                    opacity: 0.55;
                    cursor: not-allowed;
                    pointer-events: none;
                }

                label {
                    display: inline-block;
                    margin-bottom: 0.375rem;
                    font-weight: 600;
                    color: #24303d;
                }

                input,
                select,
                textarea {
                    width: 100%;
                    border: 1px solid var(--color-border);
                    border-radius: var(--radius-md);
                    background: #fff;
                    color: var(--color-text);
                    padding: 0.625rem 0.75rem;
                    font: inherit;
                    transition:
                        border-color var(--transition-fast),
                        box-shadow var(--transition-fast);
                }

                input::placeholder,
                textarea::placeholder {
                    color: #8a94a1;
                }

                input:focus,
                select:focus,
                textarea:focus {
                    border-color: var(--color-primary);
                    box-shadow: 0 0 0 3px rgba(31, 95, 139, 0.12);
                    outline: 0;
                }

                textarea {
                    min-height: 120px;
                    resize: vertical;
                }

                .form-row {
                    display: grid;
                    gap: 1rem;
                    grid-template-columns: repeat(2, minmax(0, 1fr));
                }

                .form-actions {
                    display: flex;
                    flex-wrap: wrap;
                    gap: 0.75rem;
                    align-items: center;
                    margin-top: 1rem;
                }

                table {
                    width: 100%;
                    border-collapse: collapse;
                    background: var(--color-surface);
                    border: 1px solid var(--color-border);
                    border-radius: var(--radius-lg);
                    overflow: hidden;
                    box-shadow: var(--shadow-sm);
                }

                th,
                td {
                    padding: 0.875rem 1rem;
                    text-align: left;
                    border-bottom: 1px solid var(--color-border);
                }

                th {
                    background: #f1f5f9;
                    color: #334155;
                    font-size: 0.85rem;
                    text-transform: uppercase;
                    letter-spacing: 0.04em;
                }

                tr:last-child td {
                    border-bottom: 0;
                }

                .alert {
                    border-left: 4px solid;
                    border-radius: var(--radius-md);
                    padding: 0.875rem 1rem;
                    background: #fff;
                    box-shadow: var(--shadow-sm);
                }

                .alert-info {
                    border-color: var(--color-primary);
                    color: #12324b;
                }

                .alert-success {
                    border-color: var(--color-success);
                    color: #0f4f31;
                }

                .alert-warning {
                    border-color: var(--color-warning);
                    color: #7a4300;
                }

                .alert-danger {
                    border-color: var(--color-danger);
                    color: #7b1f19;
                }

                .badge {
                    display: inline-flex;
                    align-items: center;
                    padding: 0.25rem 0.6rem;
                    border-radius: 999px;
                    font-size: 0.75rem;
                    font-weight: 700;
                    letter-spacing: 0.02em;
                    background: #e8eef4;
                    color: #27435d;
                }

                .muted {
                    color: var(--color-text-muted);
                }

                .dashboard-hero {
                    padding: 1.25rem;
                    border-radius: var(--radius-lg);
                    border: 1px solid var(--color-border);
                    background: linear-gradient(120deg, #ffffff 0%, #f2f7fb 100%);
                    box-shadow: var(--shadow-sm);
                }

                .dashboard-hero h1 {
                    margin-bottom: 0.5rem;
                }

                .dashboard-actions {
                    display: grid;
                    grid-template-columns: repeat(2, minmax(0, 1fr));
                    gap: 1rem;
                    margin-top: 1rem;
                }

                .dashboard-action {
                    display: block;
                    text-align: left;
                    padding: 1rem 1.1rem;
                    border-radius: var(--radius-md);
                    border: 1px solid var(--color-border);
                    background: #fff;
                    box-shadow: var(--shadow-sm);
                    color: var(--color-text);
                    transition:
                        border-color var(--transition-fast),
                        box-shadow var(--transition-fast),
                        transform var(--transition-fast);
                }

                .dashboard-action strong {
                    display: block;
                    color: #102231;
                    margin-bottom: 0.3rem;
                }

                .dashboard-action span {
                    color: var(--color-text-muted);
                    font-size: 0.95rem;
                }

                .dashboard-action:hover {
                    border-color: rgba(31, 95, 139, 0.35);
                    box-shadow: var(--shadow-md);
                    transform: translateY(-1px);
                }

                .text-danger { color: var(--color-danger); }
                .text-success { color: var(--color-success); }
                .text-warning { color: var(--color-warning); }

                .mb-0 { margin-bottom: 0 !important; }
                .mb-1 { margin-bottom: 0.5rem !important; }
                .mb-2 { margin-bottom: 1rem !important; }
                .mb-3 { margin-bottom: 1.5rem !important; }
                .mt-1 { margin-top: 0.5rem !important; }
                .mt-2 { margin-top: 1rem !important; }
                .mt-3 { margin-top: 1.5rem !important; }

                @media (max-width: 768px) {
                    .container {
                        width: min(100% - 1.25rem, 100%);
                    }

                    .app-header__inner {
                        min-height: 64px;
                        flex-direction: column;
                        justify-content: center;
                        align-items: flex-start;
                        padding-block: 0.75rem;
                    }

                    .dashboard-actions {
                        grid-template-columns: 1fr;
                    }

                    .form-row {
                        grid-template-columns: 1fr;
                    }

                    table,
                    thead,
                    tbody,
                    th,
                    td,
                    tr {
                        display: block;
                    }

                    thead {
                        position: absolute;
                        width: 1px;
                        height: 1px;
                        overflow: hidden;
                        clip: rect(0, 0, 0, 0);
                        white-space: nowrap;
                    }

                    tr {
                        margin-bottom: 0.75rem;
                        border: 1px solid var(--color-border);
                        border-radius: var(--radius-md);
                        background: #fff;
                        box-shadow: var(--shadow-sm);
                    }

                    td {
                        border: 0;
                        border-bottom: 1px solid var(--color-border);
                        display: flex;
                        justify-content: space-between;
                        gap: 1rem;
                    }

                    td:last-child {
                        border-bottom: 0;
                    }
                }
            </style>
        {% endblock %}

        {% block javascripts %}
            {% block importmap %}{{ importmap('app') }}{% endblock %}
        {% endblock %}
    </head>
    <body>
        <div class="app-shell">
            <header class="app-header">
                <div class="container app-header__inner">
                    <p class="app-brand mb-0">EasyCleanESAT generation de fiche d'intervention</p>
                    {% if app.request.attributes.get('_route') != 'app_dashboard' %}
                        <a class="btn btn-secondary" href="{{ path('app_dashboard') }}">Retour au dashbord</a>
                    {% endif %}
                </div>
            </header>

            <main class="app-main">
                <div class="container">
                    {% block body %}{% endblock %}
                </div>
            </main>

            <footer class="app-footer">
                <div class="container app-footer__inner">
                    <p class="mb-0">EasyCleanESAT - {{ "now"|date("Y") }}</p>
                </div>
            </footer>
        </div>
    </body>
</html>
